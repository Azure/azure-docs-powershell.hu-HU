---
title: Azure PowerShell-szkriptek áttelepítése az AzureRM modulból az Az modulba
description: Ismerje meg a szkriptek az AzureRM modulból az új Az modulba való áttelepítésére szolgáló lépéseket és eszközöket.
author: sptramer
ms.author: sttramer
manager: carmonm
ms.devlang: powershell
ms.topic: conceptual
ms.date: 12/13/2018
ms.openlocfilehash: 28122ca953d62b405f19effbbc680f2dc6202cca
ms.sourcegitcommit: 447276d46ffeeb37f0c07a570536665e36c5ddb8
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/14/2019
ms.locfileid: "57882576"
---
# <a name="migrate-from-azurerm-to-azure-powershell-az"></a><span data-ttu-id="38904-103">Áttelepítés az AzureRM modulból az Azure PowerShell Az modulba</span><span class="sxs-lookup"><span data-stu-id="38904-103">Migrate from AzureRM to Azure PowerShell Az</span></span>

<span data-ttu-id="38904-104">Az Az modul a funkciók tekintetében paritásban van az AzureRM modullal, de rövidebb és egységesebb parancsmagneveket használ.</span><span class="sxs-lookup"><span data-stu-id="38904-104">The Az module has feature parity with AzureRM, but uses shorter and more consistent cmdlet names.</span></span>
<span data-ttu-id="38904-105">Az AzureRM-parancsmagokhoz írt szkriptek nem működnek automatikusan az új modullal.</span><span class="sxs-lookup"><span data-stu-id="38904-105">Scripts written for the AzureRM cmdlets won't automatically work with the new module.</span></span> <span data-ttu-id="38904-106">Az áttérés megkönnyítése érdekében az Az olyan eszközöket nyújt, amelyekkel futtathatja az AzureRM-et használó meglévő szkripteket.</span><span class="sxs-lookup"><span data-stu-id="38904-106">To make the transition easier, Az offers tools to allow you to run your existing scripts using AzureRM.</span></span> <span data-ttu-id="38904-107">Az új parancskészletekre való áttérés soha nem egyszerű, ebben a cikkben azonban segítünk megismerkedni az új modulra való átállás alapjaival.</span><span class="sxs-lookup"><span data-stu-id="38904-107">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the new module.</span></span>

<span data-ttu-id="38904-108">Az AzureRM és az Az közötti kompatibilitástörő változások teljes listáját [az Az 1.0.0 migrálási útmutatójában](migrate-az-1.0.0.md) találja.</span><span class="sxs-lookup"><span data-stu-id="38904-108">To see the full list of breaking changes between AzureRM and Az, see the [Migration guide for Az 1.0.0](migrate-az-1.0.0.md)</span></span>

## <a name="check-for-installed-versions-of-azurerm"></a><span data-ttu-id="38904-109">Az AzureRM telepített verzióinak megtekintése</span><span class="sxs-lookup"><span data-stu-id="38904-109">Check for installed versions of AzureRM</span></span>

<span data-ttu-id="38904-110">Az Az modul telepíthető az AzureRM modul mellett, de ez nem ajánlott.</span><span class="sxs-lookup"><span data-stu-id="38904-110">The Az module can be installed side-by-side with the AzureRM module, but this is not recommended.</span></span> <span data-ttu-id="38904-111">A migrálási lépések előtt ellenőrizze, hogy az AzureRM mely verziói vannak telepítve a rendszeren.</span><span class="sxs-lookup"><span data-stu-id="38904-111">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span> <span data-ttu-id="38904-112">Ha így tesz, biztosíthatja, hogy a szkriptek már a legújabb kiadáson fussanak, és megtudhatja, hogy engedélyezheti-e a parancsaliasokat az AzureRM eltávolítása nélkül.</span><span class="sxs-lookup"><span data-stu-id="38904-112">Doing so allows you to make sure scripts are already running on the latest release, and let you know if you can enable command aliases without uninstalling AzureRM.</span></span>

<span data-ttu-id="38904-113">Az AzureRM telepített verziója/verziói megtekintéséhez futtassa a következő parancsot:</span><span class="sxs-lookup"><span data-stu-id="38904-113">To check which version(s) of AzureRM you have installed, run the command:</span></span>

```powershell-interactive
Get-InstalledModule -Name AzureRM -AllVersions
```

## <a name="ensure-your-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="38904-114">Gondoskodjon róla, hogy a meglévő szkriptek működjenek az AzureRM legfrissebb kiadásával.</span><span class="sxs-lookup"><span data-stu-id="38904-114">Ensure your existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="38904-115">Ez az a legfontosabb lépés!</span><span class="sxs-lookup"><span data-stu-id="38904-115">This is the most important step!</span></span> <span data-ttu-id="38904-116">Futtassa a meglévő szkriptjeit, és ellenőrizze, hogy működnek-e az AzureRM _legfrissebb_ kiadásával (__6.13.1__).</span><span class="sxs-lookup"><span data-stu-id="38904-116">Run your existing scripts, and make sure that they work with the _latest_ release of AzureRM (__6.13.1__).</span></span> <span data-ttu-id="38904-117">Ha a szkriptek nem működnek, tekintse át [az AzureRM áttelepítési útmutatóját](/powershell/azure/azurerm/migration-guide.6.0.0).</span><span class="sxs-lookup"><span data-stu-id="38904-117">If your scripts don't work, make sure to read the [AzureRM migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span>

## <a name="install-the-azure-powershell-az-module"></a><span data-ttu-id="38904-118">Az Azure PowerShell Az modul telepítése</span><span class="sxs-lookup"><span data-stu-id="38904-118">Install the Azure PowerShell Az module</span></span>

<span data-ttu-id="38904-119">Az első lépés az Az modul telepítése a platformra.</span><span class="sxs-lookup"><span data-stu-id="38904-119">The first step is to install the Az module on your platform.</span></span> <span data-ttu-id="38904-120">Az Az telepítésekor ajánlott eltávolítani az AzureRM-et.</span><span class="sxs-lookup"><span data-stu-id="38904-120">When you install Az, it's recommended that you uninstall AzureRM.</span></span> <span data-ttu-id="38904-121">A következő lépésekben bemutatjuk, hogyan futtathatja továbbra is meglévő szkriptjeit, és hogyan biztosíthatja a régi parancsmagnevek kompatibilitását.</span><span class="sxs-lookup"><span data-stu-id="38904-121">In the following steps, you'll learn how to keep running your existing scripts and enable compatibility for old cmdlet names.</span></span>

<span data-ttu-id="38904-122">Az Azure PowerShell Az modul telepítéséhez hajtsa végre az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="38904-122">To install the Azure PowerShell Az module, follow these steps:</span></span>

* <span data-ttu-id="38904-123">__AJÁNLOTT__: [Az AzureRM modul eltávolítása](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span><span class="sxs-lookup"><span data-stu-id="38904-123">__RECOMMENDED__: [Uninstall the AzureRM module](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span></span>
  <span data-ttu-id="38904-124">Győződjön meg róla, hogy az AzureRM _összes_ telepített verzióját eltávolítja, és nem csak a legutóbbi verziót.</span><span class="sxs-lookup"><span data-stu-id="38904-124">Make sure that you remove _all_ installed versions of AzureRM, not just the most recent version.</span></span>
* [<span data-ttu-id="38904-125">Az Az modul telepítése</span><span class="sxs-lookup"><span data-stu-id="38904-125">Install the Az module</span></span>](install-az-ps.md)

## <a name="a-namealiasesenable-azurerm-compatibility-aliases"></a><span data-ttu-id="38904-126"><a name="aliases"/>Az AzureRM kompatibilitási aliasok engedélyezése</span><span class="sxs-lookup"><span data-stu-id="38904-126"><a name="aliases"/>Enable AzureRM compatibility aliases</span></span> 

> [!IMPORTANT]
>
> <span data-ttu-id="38904-127">Csak akkor engedélyezze a kompatibilitási módot, ha az AzureRM _összes_ verzióját eltávolította.</span><span class="sxs-lookup"><span data-stu-id="38904-127">Only enable compatibility mode if you've uninstalled _all_ versions of AzureRM.</span></span> <span data-ttu-id="38904-128">A kompatibilitási mód a továbbra is elérhető AzureRM parancsmagokkal való engedélyezése váratlan működést okozhat.</span><span class="sxs-lookup"><span data-stu-id="38904-128">Enabling compatibility mode with AzureRM cmdlets still available may result in unpredictable behavior.</span></span> <span data-ttu-id="38904-129">Hagyja ki ezt a lépést, ha úgy dönt, nem távolítja el az AzureRM-et, de vegye figyelembe, hogy az AzureRM-parancsmagok a régebbi modulokat használják, és nem hívnak meg Az-parancsmagokat.</span><span class="sxs-lookup"><span data-stu-id="38904-129">Skip this step if you decided to keep AzureRM installed, but be aware that any AzureRM cmdlets will use the older modules and not call any Az cmdlets.</span></span>

<span data-ttu-id="38904-130">Miután az AzureRM-et eltávolította, és megbizonyosodott róla, hogy a szkriptek működnek az AzureRM legfrissebb verziójával, a következő lépés az Az modul kompatibilitási módjának engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="38904-130">With AzureRM uninstalled and your scripts working with the latest AzureRM version, the next step is to enable the compatibility mode for the Az module.</span></span> <span data-ttu-id="38904-131">A kompatibilitás a következő paranccsal engedélyezhető:</span><span class="sxs-lookup"><span data-stu-id="38904-131">Compatibility is enabled with the command:</span></span>

```powershell-interactive
Enable-AzureRmAlias -Scope CurrentUser
```

<span data-ttu-id="38904-132">Az aliasok segítségével továbbra is használhatja a régi parancsmagneveket, ha az Az modul telepítve van.</span><span class="sxs-lookup"><span data-stu-id="38904-132">Aliases enable the ability to use old cmdlet names with the Az module installed.</span></span> <span data-ttu-id="38904-133">Az aliasokat a kiválasztott hatókör felhasználói profiljába lesznek írva.</span><span class="sxs-lookup"><span data-stu-id="38904-133">These aliases are written to the user profile for the selected scope.</span></span> <span data-ttu-id="38904-134">Ha nincs felhasználói profil, a rendszer létrehoz egyet.</span><span class="sxs-lookup"><span data-stu-id="38904-134">If no user profile exists, one is created.</span></span>

> [!WARNING]
>
> <span data-ttu-id="38904-135">Használhat más hatókört (`-Scope`) is a parancsban, ez azonban nem ajánlott.</span><span class="sxs-lookup"><span data-stu-id="38904-135">You can use a different `-Scope` for this command, but it's not recommended.</span></span> <span data-ttu-id="38904-136">Ezek az aliasok a kiválasztott hatókör felhasználói profiljába lesznek írva, ezért érdemes őket minél korlátozottabb hatókörhöz engedélyezni.</span><span class="sxs-lookup"><span data-stu-id="38904-136">Aliases are written to the user profile for the selected scope, so keep enabling them to as limited a scope as possible.</span></span> <span data-ttu-id="38904-137">Az aliasok rendszerszintű engedélyezése emellett a többi felhasználónak is problémát okozhat, akiknél az AzureRM van telepítve a helyi hatókörükben.</span><span class="sxs-lookup"><span data-stu-id="38904-137">Enabling aliases system-wide could also cause issues for other users which have AzureRM installed in their local scope.</span></span>

<span data-ttu-id="38904-138">Az alias mód engedélyezése után futtassa újra a szkripteket, és győződjön meg róla, hogy továbbra is a vártnak megfelelően működnek.</span><span class="sxs-lookup"><span data-stu-id="38904-138">Once the alias mode is enabled, run your scripts again to confirm that they still function as expected.</span></span> 

## <a name="change-module-imports-and-cmdlet-names"></a><span data-ttu-id="38904-139">A modulimportálások és parancsmagnevek módosítása</span><span class="sxs-lookup"><span data-stu-id="38904-139">Change module imports and cmdlet names</span></span>

<span data-ttu-id="38904-140">Általánosságban véve a modulnevek módosultak, így az `AzureRM` és az `Azure` is `Az` lett, és ugyanez igaz a parancsmagokra is.</span><span class="sxs-lookup"><span data-stu-id="38904-140">In general, the module names have been changed so that `AzureRM` and `Azure` become `Az`, and the same for cmdlets.</span></span>
<span data-ttu-id="38904-141">Az `AzureRM.Compute` modul új neve például `Az.Compute`.</span><span class="sxs-lookup"><span data-stu-id="38904-141">For example, the `AzureRM.Compute` module has been renamed to `Az.Compute`.</span></span> <span data-ttu-id="38904-142">A `New-AzureRMVM` `New-AzVM` lett, a `Get-AzureStorageBlob` pedig `Get-AzStorageBlob`.</span><span class="sxs-lookup"><span data-stu-id="38904-142">`New-AzureRMVM` has become `New-AzVM`, and `Get-AzureStorageBlob` is now `Get-AzStorageBlob`.</span></span>

<span data-ttu-id="38904-143">Van néhány kivétel is ez alól a szabály alól, amelyeket érdemes figyelembe venni.</span><span class="sxs-lookup"><span data-stu-id="38904-143">There are exceptions to this naming change that you should be aware of.</span></span> <span data-ttu-id="38904-144">Egyes modulok a parancsmagok utótagjainak módosítása nélkül lettek átnevezve vagy meglévő modulokba egyesítve, csak az `AzureRM` vagy az `Azure` helyett szerepel `Az`.</span><span class="sxs-lookup"><span data-stu-id="38904-144">Some modules were renamed or merged into existing modules without this affecting the suffix of their cmdlets, other than changing `AzureRM` or `Azure` to `Az`.</span></span> <span data-ttu-id="38904-145">Egyéb esetben a parancsmag teljes utótagja módosult az új modulnévnek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="38904-145">Otherwise, the full cmdlet suffix was changed to reflect the new module name.</span></span>

| <span data-ttu-id="38904-146">AzureRM modul</span><span class="sxs-lookup"><span data-stu-id="38904-146">AzureRM module</span></span> | <span data-ttu-id="38904-147">Az modul</span><span class="sxs-lookup"><span data-stu-id="38904-147">Az module</span></span> | <span data-ttu-id="38904-148">Módosult a parancsmag utótagja?</span><span class="sxs-lookup"><span data-stu-id="38904-148">Cmdlet suffix changed?</span></span> |
|----------------|-----------|------------------------|
| <span data-ttu-id="38904-149">AzureRM.Profile</span><span class="sxs-lookup"><span data-stu-id="38904-149">AzureRM.Profile</span></span> | <span data-ttu-id="38904-150">Az.Accounts</span><span class="sxs-lookup"><span data-stu-id="38904-150">Az.Accounts</span></span> | <span data-ttu-id="38904-151">Igen</span><span class="sxs-lookup"><span data-stu-id="38904-151">Yes</span></span> |
| <span data-ttu-id="38904-152">AzureRM.Insights</span><span class="sxs-lookup"><span data-stu-id="38904-152">AzureRM.Insights</span></span> | <span data-ttu-id="38904-153">Az.Monitor</span><span class="sxs-lookup"><span data-stu-id="38904-153">Az.Monitor</span></span> | <span data-ttu-id="38904-154">Igen</span><span class="sxs-lookup"><span data-stu-id="38904-154">Yes</span></span> |
| <span data-ttu-id="38904-155">AzureRM.DataFactories</span><span class="sxs-lookup"><span data-stu-id="38904-155">AzureRM.DataFactories</span></span> | <span data-ttu-id="38904-156">Az.DataFactory</span><span class="sxs-lookup"><span data-stu-id="38904-156">Az.DataFactory</span></span> | <span data-ttu-id="38904-157">Igen</span><span class="sxs-lookup"><span data-stu-id="38904-157">Yes</span></span> |
| <span data-ttu-id="38904-158">AzureRM.DataFactoryV2</span><span class="sxs-lookup"><span data-stu-id="38904-158">AzureRM.DataFactoryV2</span></span> | <span data-ttu-id="38904-159">Az.DataFactory</span><span class="sxs-lookup"><span data-stu-id="38904-159">Az.DataFactory</span></span> | <span data-ttu-id="38904-160">Igen</span><span class="sxs-lookup"><span data-stu-id="38904-160">Yes</span></span> |
| <span data-ttu-id="38904-161">AzureRM.RecoveryServices.Backup</span><span class="sxs-lookup"><span data-stu-id="38904-161">AzureRM.RecoveryServices.Backup</span></span> | <span data-ttu-id="38904-162">Az.RecoveryServices</span><span class="sxs-lookup"><span data-stu-id="38904-162">Az.RecoveryServices</span></span> | <span data-ttu-id="38904-163">Nem</span><span class="sxs-lookup"><span data-stu-id="38904-163">No</span></span> |
| <span data-ttu-id="38904-164">AzureRM.RecoveryServices.SiteRecovery</span><span class="sxs-lookup"><span data-stu-id="38904-164">AzureRM.RecoveryServices.SiteRecovery</span></span> | <span data-ttu-id="38904-165">Az.RecoveryServices</span><span class="sxs-lookup"><span data-stu-id="38904-165">Az.RecoveryServices</span></span> | <span data-ttu-id="38904-166">Nem</span><span class="sxs-lookup"><span data-stu-id="38904-166">No</span></span> |
| <span data-ttu-id="38904-167">AzureRM.Tags</span><span class="sxs-lookup"><span data-stu-id="38904-167">AzureRM.Tags</span></span> | <span data-ttu-id="38904-168">Az.Resources</span><span class="sxs-lookup"><span data-stu-id="38904-168">Az.Resources</span></span> | <span data-ttu-id="38904-169">Nem</span><span class="sxs-lookup"><span data-stu-id="38904-169">No</span></span> |
| <span data-ttu-id="38904-170">AzureRM.MachineLearningCompute</span><span class="sxs-lookup"><span data-stu-id="38904-170">AzureRM.MachineLearningCompute</span></span> | <span data-ttu-id="38904-171">Az.MachineLearning</span><span class="sxs-lookup"><span data-stu-id="38904-171">Az.MachineLearning</span></span> | <span data-ttu-id="38904-172">Nem</span><span class="sxs-lookup"><span data-stu-id="38904-172">No</span></span> |
| <span data-ttu-id="38904-173">AzureRM.UsageAggregates</span><span class="sxs-lookup"><span data-stu-id="38904-173">AzureRM.UsageAggregates</span></span> | <span data-ttu-id="38904-174">Az.Billing</span><span class="sxs-lookup"><span data-stu-id="38904-174">Az.Billing</span></span> | <span data-ttu-id="38904-175">Nem</span><span class="sxs-lookup"><span data-stu-id="38904-175">No</span></span> |
| <span data-ttu-id="38904-176">AzureRM.Consumption</span><span class="sxs-lookup"><span data-stu-id="38904-176">AzureRM.Consumption</span></span> | <span data-ttu-id="38904-177">Az.Billing</span><span class="sxs-lookup"><span data-stu-id="38904-177">Az.Billing</span></span> | <span data-ttu-id="38904-178">Nem</span><span class="sxs-lookup"><span data-stu-id="38904-178">No</span></span> |

## <a name="summary"></a><span data-ttu-id="38904-179">Összegzés</span><span class="sxs-lookup"><span data-stu-id="38904-179">Summary</span></span>

<span data-ttu-id="38904-180">Ezeknek a lépéseknek a végrehajtásával frissítheti az összes meglévő szkriptet az új modul használatára.</span><span class="sxs-lookup"><span data-stu-id="38904-180">By following these steps, you can update all of your existing scripts to use the new module.</span></span> <span data-ttu-id="38904-181">Amennyiben az áttelepítést során valamelyik lépéssel kapcsolatban kérdés vagy probléma merült fel, amely megnehezítette a dolgát, várjuk a megjegyzéseit a cikk alatt, hogy fejleszthessük az útmutatót.</span><span class="sxs-lookup"><span data-stu-id="38904-181">If you have any questions or problems with these steps that made your migration difficult, please comment on this article so that we can improve the instructions.</span></span>
