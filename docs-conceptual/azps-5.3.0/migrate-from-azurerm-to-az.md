---
title: Azure PowerShell-szkriptek áttelepítése az AzureRM modulból az Az modulba
description: Ismerje meg az Azure PowerShell-szkriptek az AzureRM-ből az új Az PowerShell-modulba való migrálására szolgáló lépéseket és eszközöket.
ms.devlang: powershell
ms.service: azure-powershell
ms.topic: conceptual
ms.date: 12/15/2020
ms.custom: devx-track-azurepowershell, contperf-fy21q2
ms.openlocfilehash: 6bccaf9a628f67b8945516bae70f07939cdce8f7
ms.sourcegitcommit: 68451baa389791703e666d95469602c5652609ee
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 01/05/2021
ms.locfileid: "97893695"
---
# <a name="migrate-azure-powershell-from-azurerm-to-az"></a><span data-ttu-id="99a59-103">Az Azure PowerShell migrálása az AzureRM modulból az Az modulba</span><span class="sxs-lookup"><span data-stu-id="99a59-103">Migrate Azure PowerShell from AzureRM to Az</span></span>

<span data-ttu-id="99a59-104">Az AzureRM PowerShell-modul minden verziója elavult.</span><span class="sxs-lookup"><span data-stu-id="99a59-104">All versions of the AzureRM PowerShell module are outdated.</span></span> <span data-ttu-id="99a59-105">Mostantól az [Az PowerShell-modul](install-az-ps.md) használatát javasoljuk az Azure-ral folytatott interakciókhoz.</span><span class="sxs-lookup"><span data-stu-id="99a59-105">The [Az PowerShell module](install-az-ps.md) is now the recommended PowerShell module for interacting with Azure.</span></span>

## <a name="why-a-new-module"></a><span data-ttu-id="99a59-106">Miért van szükség új modulra?</span><span class="sxs-lookup"><span data-stu-id="99a59-106">Why a new module?</span></span>

<span data-ttu-id="99a59-107">A legnagyobb és legfontosabb változás, hogy a .NET Standard-kódtáron alapuló [PowerShell](/powershell/scripting/overview) bevezetése óta a PowerShell platformfüggetlen termékké vált.</span><span class="sxs-lookup"><span data-stu-id="99a59-107">The biggest and most important change is that [PowerShell](/powershell/scripting/overview), being based on the .NET Standard library, has been a cross-platform product since its introduction.</span></span>

<span data-ttu-id="99a59-108">Ahogy a PowerShell nyelv esetében, most is elkötelezettek vagyunk az Azure-támogatás valamennyi platformra történő kiterjesztésében.</span><span class="sxs-lookup"><span data-stu-id="99a59-108">Like the PowerShell language, we're committed to bringing Azure support to all platforms.</span></span> <span data-ttu-id="99a59-109">Ez azt jelenti, hogy az Azure PowerShell-modulokat frissíteni kell a .NET Standard használata és a PowerShell Core-kompatibilitás érdekében.</span><span class="sxs-lookup"><span data-stu-id="99a59-109">Our commitment meant that the Azure PowerShell modules needed to be updated to use .NET Standard and be compatible with PowerShell Core.</span></span> <span data-ttu-id="99a59-110">Ahelyett, hogy a meglévő AzureRM modulon hajtottunk volna végre összetett módosításokat a támogatás hozzáadásához, létrehoztuk az Az modult.</span><span class="sxs-lookup"><span data-stu-id="99a59-110">Rather than modifying the existing AzureRM module and introducing complex changes to add this support, the Az module was created.</span></span>

<span data-ttu-id="99a59-111">Egy új modul létrehozása lehetővé tette a mérnökeink számára, hogy egységesítsék a parancsmagok és modulok kialakítását és elnevezését.</span><span class="sxs-lookup"><span data-stu-id="99a59-111">Creating a new module also allowed our engineers to make the design, naming of cmdlets, and modules consistent.</span></span> <span data-ttu-id="99a59-112">Mostantól az összes modul neve `Az.` előtaggal kezdődik, a parancsmagok pedig mind a `Verb-AzNoun` formát alkalmazzák.</span><span class="sxs-lookup"><span data-stu-id="99a59-112">All modules now start with the `Az.` prefix and cmdlets all use the `Verb-AzNoun` naming convention.</span></span> <span data-ttu-id="99a59-113">Ezt megelőzően a parancsmagnevek hosszabbak és inkonzisztensek voltak.</span><span class="sxs-lookup"><span data-stu-id="99a59-113">Previously, cmdlet names were longer and inconsistent.</span></span>

<span data-ttu-id="99a59-114">A modulok száma is csökkent: Egyes modulokat, amelyek ugyanazokkal a szolgáltatásokkal működtek, összevontunk.</span><span class="sxs-lookup"><span data-stu-id="99a59-114">The number of modules were also reduced: Some modules that worked with the same services have been combined.</span></span> <span data-ttu-id="99a59-115">Mostantól egyazon szolgáltatás felügyeleti és adatsíkra vonatkozó parancsmagjait egyetlen modul tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="99a59-115">Management plane and data plane cmdlets for the same service are now contained within a single module.</span></span> <span data-ttu-id="99a59-116">Azok számára, akik manuálisan kezelik a függőségeket és az importálásokat, ez az összevonás egyszerűbbé teszi a feladatokat.</span><span class="sxs-lookup"><span data-stu-id="99a59-116">For those of you who manually manage dependencies and imports, this consolidation makes things much simpler.</span></span>

<span data-ttu-id="99a59-117">Az új fontos módosítások elkészítésével a csapat elkötelezte magát amellett, hogy az Azure PowerShell-parancsmagokkal való használatát minden korábbinál egyszerűbbé tegye, valamint még több platformra kiterjessze.</span><span class="sxs-lookup"><span data-stu-id="99a59-117">By making these important changes, the team has committed to making it easier than ever before and on more platforms than previously possible to use Azure with PowerShell cmdlets.</span></span>

## <a name="upgrading-to-az-powershell"></a><span data-ttu-id="99a59-118">Frissítés az Az PowerShellre</span><span class="sxs-lookup"><span data-stu-id="99a59-118">Upgrading to Az PowerShell</span></span>

<span data-ttu-id="99a59-119">Az AzureRM-parancsmagokhoz írt szkriptek nem működnek automatikusan az Az modullal.</span><span class="sxs-lookup"><span data-stu-id="99a59-119">Scripts written for the AzureRM cmdlets won't automatically work with Az.</span></span> <span data-ttu-id="99a59-120">A váltás megkönnyítése érdekében lett kifejlesztve az [AzureRM és Az közötti migrálási eszközkészlet](https://github.com/Azure/azure-powershell-migration).</span><span class="sxs-lookup"><span data-stu-id="99a59-120">To make the transition easier, the [AzureRM to Az migration toolkit](https://github.com/Azure/azure-powershell-migration) was developed.</span></span> <span data-ttu-id="99a59-121">Az új parancskészletekre való áttérés soha nem egyszerű, ebben a cikkben azonban segítünk megismerkedni az Az PowerShell-modulra való átállás alapjaival.</span><span class="sxs-lookup"><span data-stu-id="99a59-121">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the Az PowerShell module.</span></span> <span data-ttu-id="99a59-122">Ha érdekli, miért jött létre az Az PowerShell-modul, olvassa el [az Azure PowerShell új Az moduljának ismertetését](new-azureps-module-az.md).</span><span class="sxs-lookup"><span data-stu-id="99a59-122">To learn more about why the Az PowerShell module was created, see [Introducing the new Azure PowerShell Az module](new-azureps-module-az.md).</span></span>

<span data-ttu-id="99a59-123">Az új parancsmagnevek úgy lettek kidolgozva, hogy könnyen megjegyezhetők legyenek.</span><span class="sxs-lookup"><span data-stu-id="99a59-123">The new cmdlet names have been designed to be easy to learn.</span></span> <span data-ttu-id="99a59-124">A parancsmagnevekben az `AzureRm` és az `Azure` helyett az `Az` használható.</span><span class="sxs-lookup"><span data-stu-id="99a59-124">Instead of using `AzureRm` or `Azure` in cmdlet names, use `Az`.</span></span> <span data-ttu-id="99a59-125">Például a régi `New-AzureRMVm` parancs megfelelője a `New-AzVm` parancs lett.</span><span class="sxs-lookup"><span data-stu-id="99a59-125">For example, the old cmdlet `New-AzureRMVm` has become `New-AzVm`.</span></span>
<span data-ttu-id="99a59-126">A migrálás azonban többet jelent az új parancsmagok nevének megismerésénél.</span><span class="sxs-lookup"><span data-stu-id="99a59-126">However, migration is more than just becoming familiar with the new cmdlet names, though.</span></span> <span data-ttu-id="99a59-127">Vannak átnevezett modulok, paraméterek és más fontos változások is.</span><span class="sxs-lookup"><span data-stu-id="99a59-127">There are renamed modules, parameters, and other important changes.</span></span>

<span data-ttu-id="99a59-128">Az AzureRM és az Az közötti kompatibilitástörő változások teljes listáját [az AzureRM és az Az közötti változások teljes listájában](migrate-az-1.0.0.md) találja.</span><span class="sxs-lookup"><span data-stu-id="99a59-128">To see the full list of breaking changes between AzureRM and Az, see the [full changes from AzureRM to Az](migrate-az-1.0.0.md).</span></span>

## <a name="ensure-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="99a59-129">Annak ellenőrzése, hogy a meglévő szkriptek működnek-e az AzureRM legújabb kiadásával</span><span class="sxs-lookup"><span data-stu-id="99a59-129">Ensure existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="99a59-130">A migrálási lépések előtt ellenőrizze, hogy az AzureRM mely verziói vannak telepítve a rendszeren.</span><span class="sxs-lookup"><span data-stu-id="99a59-130">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span>
<span data-ttu-id="99a59-131">Ezzel biztosíthatja, hogy a szkriptek már a legújabb kiadáson fussanak, és megtudhatja, hogy az AzureRM mely verzióit kell eltávolítania.</span><span class="sxs-lookup"><span data-stu-id="99a59-131">Doing so allows you to make sure scripts are already running on the latest release and let you know which versions of AzureRM must be uninstalled.</span></span>

<span data-ttu-id="99a59-132">Az AzureRM telepített verziója/verziói megtekintéséhez futtassa a következő példaparancsot:</span><span class="sxs-lookup"><span data-stu-id="99a59-132">To check which version(s) of AzureRM you have installed, run the following example:</span></span>

```azurepowershell
Get-Module -Name AzureRM -ListAvailable -All
```

<span data-ttu-id="99a59-133">Az AzureRM **legújabb** elérhető kiadása a **6.13.1-es**.</span><span class="sxs-lookup"><span data-stu-id="99a59-133">The **latest** available release of AzureRM is **6.13.1**.</span></span> <span data-ttu-id="99a59-134">Ha nincs telepítve ez a verzió, a meglévő szkriptek további módosítást is igényelhetnek az ebben a cikkben és a [kompatibilitástörő változások listájában](migrate-az-1.0.0.md) leírtakon túlmenően, hogy használni lehessen őket az Az modullal.</span><span class="sxs-lookup"><span data-stu-id="99a59-134">If you don't have this version installed, your existing scripts may need additional modifications to work with the Az module beyond the scope of what's described in this article and in the [breaking changes list](migrate-az-1.0.0.md).</span></span>

<span data-ttu-id="99a59-135">Ha a szkriptek nem működnek az AzureRM 6.13.1-es verziójával, frissítse őket az [AzureRM 5.x és 6.x migrálási útmutatója](/powershell/azure/azurerm/migration-guide.6.0.0) szerint.</span><span class="sxs-lookup"><span data-stu-id="99a59-135">If your scripts don't work with AzureRM 6.13.1, update them according to the [AzureRM 5.x to 6.x migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span> <span data-ttu-id="99a59-136">Ha az AzureRM modul korábbi verzióját használja, mindegyik fő verzióhoz elérhető migrálási útmutató.</span><span class="sxs-lookup"><span data-stu-id="99a59-136">If you use an earlier version of the AzureRM module, there are migration guides available for each major version.</span></span>

## <a name="option-1-recommended-automatically-migrate-your-powershell-scripts"></a><span data-ttu-id="99a59-137">1\. lehetőség (ajánlott): PowerShell-szkriptek automatikus migrálása</span><span class="sxs-lookup"><span data-stu-id="99a59-137">Option 1 (recommended): Automatically migrate your PowerShell scripts</span></span>

<span data-ttu-id="99a59-138">Ez az ajánlott lehetőség minimálisra csökkentheti az AzureRM-szkriptek az Az-ba való migrálásához szükséges erőfeszítést.</span><span class="sxs-lookup"><span data-stu-id="99a59-138">This recommended option minimizes the effort required to migrate AzureRM scripts to Az.</span></span>

### <a name="install-the-azurerm-to-az-migration-toolkit"></a><span data-ttu-id="99a59-139">Az AzureRM és Az közötti migrálási eszközkészlet telepítése</span><span class="sxs-lookup"><span data-stu-id="99a59-139">Install the AzureRM to Az migration toolkit</span></span>

```azurepowershell
Install-Module -Name Az.Tools.Migration
```

### <a name="convert-your-scripts-automatically"></a><span data-ttu-id="99a59-140">Szkriptek automatikus konvertálása</span><span class="sxs-lookup"><span data-stu-id="99a59-140">Convert your scripts automatically</span></span>

<span data-ttu-id="99a59-141">Az AzureRM és Az közötti migrálási eszközkészlettel létrehozhat egy tervet, amely megállapítja, milyen módosításokat kell végrehajtani a szkripteken, mielőtt valóban módosítaná azokat és telepítené az Az PowerShell-modult.</span><span class="sxs-lookup"><span data-stu-id="99a59-141">With the AzureRM to Az migration toolkit, you can generate a plan to determine what changes will be performed on your scripts before making any modifications to them and before installing the Az PowerShell module.</span></span>

<span data-ttu-id="99a59-142">A [PowerShell-szkriptek az AzureRM modulból az Az PowerShell-modulba történő automatikus migrálásának](quickstart-migrate-azurerm-to-az-automatically.md) gyorsútmutatója végigvezet a PowerShell-szkriptek AzureRM-ből az Az PowerShell-modulba való automatikus frissítésének teljes folyamatán.</span><span class="sxs-lookup"><span data-stu-id="99a59-142">The [Automatically migrate PowerShell scripts from AzureRM to the Az PowerShell module](quickstart-migrate-azurerm-to-az-automatically.md) quickstart walks you through the entire process of automatically updating your PowerShell scripts from AzureRM to the Az PowerShell module.</span></span>

## <a name="option-2-use-compatibility-mode-with-enable-azurermalias"></a><span data-ttu-id="99a59-143">2\. lehetőség: Kompatibilitási üzemmód használata az Enable-AzureRmAlias parancsmaggal</span><span class="sxs-lookup"><span data-stu-id="99a59-143">Option 2: Use compatibility mode with Enable-AzureRmAlias</span></span>

<span data-ttu-id="99a59-144">Az Az modul kompatibilitási módjával továbbra is használhatja a meglévő szkripteket az új szintaxis frissítése közben.</span><span class="sxs-lookup"><span data-stu-id="99a59-144">The Az module has a compatibility mode to help you use existing scripts while you update to the new syntax.</span></span> <span data-ttu-id="99a59-145">Az [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) parancsmag aliasok segítségével kompatibilitási módot biztosít.</span><span class="sxs-lookup"><span data-stu-id="99a59-145">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet enables a compatibility mode through aliases.</span></span> <span data-ttu-id="99a59-146">Ez az üzemmód lehetővé teszi a meglévő szkriptek minimális módosítással történő használatát, míg az Az-be történő teljes migráláson dolgozik.</span><span class="sxs-lookup"><span data-stu-id="99a59-146">This mode allows you to use existing scripts with minimal modification while working towards a full migration to Az.</span></span> <span data-ttu-id="99a59-147">Alapértelmezés szerint az `Enable-AzureRmAlias` a kompatibilitási aliasokat csak az aktuális PowerShell-munkamenethez engedélyezi.</span><span class="sxs-lookup"><span data-stu-id="99a59-147">By default, `Enable-AzureRmAlias` only enables compatibility aliases for the current PowerShell session.</span></span> <span data-ttu-id="99a59-148">Használja a `Scope` paraméterét a kompatibilitási aliasok PowerShell-munkamenetek közötti megtartásához.</span><span class="sxs-lookup"><span data-stu-id="99a59-148">Use its `Scope` parameter to persist compatibility aliases across PowerShell sessions.</span></span> <span data-ttu-id="99a59-149">További információ az [Enable-AzureRmAlias referenciadokumentációjában](/powershell/module/az.accounts/enable-azurermalias) található.</span><span class="sxs-lookup"><span data-stu-id="99a59-149">For more information, see [the Enable-AzureRmAlias reference documentation](/powershell/module/az.accounts/enable-azurermalias).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="99a59-150">Annak ellenére, hogy a parancsmagok aliasnévvel rendelkeznek, az Az-parancsmagoknak lehetnek új (vagy átnevezett) paraméterei, illetve módosított visszaadott értékei.</span><span class="sxs-lookup"><span data-stu-id="99a59-150">Even though the cmdlet names are aliased, there may still be new (or renamed) parameters or changed return values for the Az cmdlets.</span></span> <span data-ttu-id="99a59-151">Az aliasok engedélyezése nem elegendő a migrálás elvégzéséhez.</span><span class="sxs-lookup"><span data-stu-id="99a59-151">Don't expect enabling aliases to take care of the migration for you!</span></span> <span data-ttu-id="99a59-152">Tekintse meg a [kompatibilitástörő változások teljes listáját](migrate-az-1.0.0.md), amelyből megtudhatja, hol lehet szükség a szkriptek frissítésére.</span><span class="sxs-lookup"><span data-stu-id="99a59-152">See the [full breaking changes list](migrate-az-1.0.0.md) to find where your scripts may require updates.</span></span>

## <a name="option-3-migrate-your-scripts-in-visual-studio-code-with-the-azure-powershell-extension"></a><span data-ttu-id="99a59-153">3\. lehetőség: Migrálja a szkripteket a Visual Studio Code-ban az Azure PowerShell-bővítménnyel</span><span class="sxs-lookup"><span data-stu-id="99a59-153">Option 3: Migrate your scripts in Visual Studio Code with the Azure PowerShell extension</span></span>

### <a name="install-the-azure-powershell-extension-for-visual-studio-code"></a><span data-ttu-id="99a59-154">Telepítse a Visual Studio Code-hoz készült Azure PowerShell-bővítményt</span><span class="sxs-lookup"><span data-stu-id="99a59-154">Install the Azure PowerShell extension for Visual Studio Code</span></span>

<span data-ttu-id="99a59-155">Telepítse a [VSCode-hoz készült Azure PowerShell-bővítményt](https://marketplace.visualstudio.com/items?itemName=azps-tools.azps-tools)</span><span class="sxs-lookup"><span data-stu-id="99a59-155">Install the [Azure PowerShell extension for VSCode](https://marketplace.visualstudio.com/items?itemName=azps-tools.azps-tools)</span></span>

### <a name="convert-your-scripts-manually"></a><span data-ttu-id="99a59-156">Konvertálja manuálisan a szkripteket</span><span class="sxs-lookup"><span data-stu-id="99a59-156">Convert your scripts manually</span></span>

1. <span data-ttu-id="99a59-157">Töltse be az AzureRM-et a VSCode-ban</span><span class="sxs-lookup"><span data-stu-id="99a59-157">Load your AzureRM script in VSCode</span></span>
2. <span data-ttu-id="99a59-158">Indítsa el a migrálást a parancspaletta (`Ctrl+Shift+P`) megnyitásával, majd a `Migrate Azure PowerShell script` lehetőség kiválasztásával</span><span class="sxs-lookup"><span data-stu-id="99a59-158">Start the migration by opening the command palette `Ctrl+Shift+P` and select `Migrate Azure PowerShell script`</span></span>
3. <span data-ttu-id="99a59-159">Válassza ki az `AzureRM` forrásverziót</span><span class="sxs-lookup"><span data-stu-id="99a59-159">Select source version `AzureRM`</span></span>
4. <span data-ttu-id="99a59-160">Kövesse az egyes aláhúzott parancsokhoz vagy paraméterekhez ajánlott műveleteket.</span><span class="sxs-lookup"><span data-stu-id="99a59-160">Follow the recommended actions for each underlined command or parameter.</span></span>

## <a name="next-steps"></a><span data-ttu-id="99a59-161">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="99a59-161">Next steps</span></span>

* [<span data-ttu-id="99a59-162">Az AzureRM eltávolítása</span><span class="sxs-lookup"><span data-stu-id="99a59-162">Uninstall AzureRM</span></span>](uninstall-az-ps.md#uninstall-the-azurerm-module)
* [<span data-ttu-id="99a59-163">Az Azure PowerShell telepítése</span><span class="sxs-lookup"><span data-stu-id="99a59-163">Install Azure PowerShell</span></span>](install-az-ps.md)
