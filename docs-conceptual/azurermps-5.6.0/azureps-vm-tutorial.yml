### YamlMime:Tutorial
title: "Virtuális gépek létrehozása az Azure PowerShell-lel"
metadata:
  title: "Virtuális gépek létrehozása az Azure PowerShell-lel"
  description: "Bevezetés az Azure PowerShell használatába virtuális gépek létrehozásán keresztül."
  audience: Developer
  level: Beginner
  displayType: two-column
  interactive: azurepowershell
  ms.date: 02/08/2018
  ms.author: sewhee
  author: sdwheeler
  manager: carmonm
  ms.devlang: azure-powershell
  ms.technology: azure
  ms.openlocfilehash: bb5024927da7888dca406a522fa39dfe225afb89
  ms.sourcegitcommit: 20af779cd523c758d40e23d60eb989a4ef982d5c
  ms.translationtype: HT
  ms.contentlocale: hu-HU
  ms.lasthandoff: 03/15/2018
items:
- durationInMinutes: 1
  content: "Ebben az oktatóanyagban elsajátíthatja a virtuális gépek Azure PowerShell használatával történő beállításához szükséges lépéseket. Az oktatóanyag ezen kívül a kimeneti lekérdezésekre, az Azure-erőforrások újbóli felhasználására és az erőforrások felesleges tartalmainak törlésére is kitér.\n\nAz oktatóanyagot az Azure Cloud Shell által nyújtott interaktív felületen keresztül vagy az [Azure PowerShell helyi telepítésével](install-azurerm-ps.md) teljesítheti.\n\nA __ctrl-shift-v__ (macOS rendszeresen__cmd-shift-v__) billentyűkombináció segítségével illesztheti be az oktatóanyag szövegét az Azure Cloud Shellbe."
- durationInMinutes: 1
  title: "Bejelentkezés"
  content: "Ha az Azure PowerShell helyi telepítését választotta, akkor a további lépések végrehajtása előtt jelentkezzen be.\n\n```powershell\nLogin-AzureRmAccount\n```\n\nA terminálon megjelenő utasítások alapján végezze el a bejelentkezési folyamatot."
- durationInMinutes: 1
  title: "Hozzon létre egy erőforráscsoportot"
  content: "Az Azure-ban minden erőforrás erőforrás-kezelési csoportokban van lefoglalva. Az erőforráscsoportok segítségével az erőforrások követhető logika szerint csoportosíthatók, és lehetővé válik gyűjteményként való kezelésük.\nEbben az oktatóanyagban létrehozott minden erőforrás egy `TutorialResources` nevű csoportba kerül.\n\n```powershell\nNew-AzureRmResourceGroup -Name TutorialResources -Location eastus\n```\n\n```Output\nResourceGroupName : TutorialResources\nLocation          : eastus\nProvisioningState : Succeeded\nTags              :\nResourceId        : /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/TutorialResources\n```"
- durationInMinutes: 1
  title: "Rendszergazdai hitelesítő adatok létrehozása a virtuális géphez"
  content: "Új virtuális gép létrehozása előtt létre kell hoznia egy hitelesítő objektumot, amely tartalmazza a Windows rendszerű virtuális gép rendszergazdai fiókjának felhasználónevét és jelszavát.\n\n```powershell\n$cred = Get-Credential -Message \"Enter a username and password for the virtual machine.\"\n```\n\nAmikor a rendszer kéri, adja meg a felhasználónevet és a jelszót. Az eredményül kapott hitelesítő objektumot a rendszer a következő lépésben paraméterként adja tovább.\n\n```Output\nWindows PowerShell credential request.\nEnter a username and password for the virtual machine.\nUser: tutorAdmin\nPassword for user tutorAdmin: *********\n```"
- durationInMinutes: 4
  title: "Virtuális gép létrehozása"
  content: "Az Azure-beli virtuális gépek nagy számú függőséggel rendelkeznek. Az Azure PowerShell ezeket az erőforrásokat az Ön által megadott parancssori argumentumok alapján hozza létre. Az olvashatóság érdekében [PowerShell-paramétercsomagolást](/powershell/module/microsoft.powershell.core/about/about_splatting) használunk a paraméterek Azure PowerShell-parancsmagokba történő továbbításához.\n\nHozzon létre egy Windows rendszerű új virtuális gépet.\n\n```powershell\n$vmParams = @{\n  ResourceGroupName = 'TutorialResources'\n  Name = 'TutorialVM1'\n  Location = 'eastus'\n  ImageName = 'Win2016Datacenter'\n  PublicIpAddressName = 'tutorialPublicIp'\n  Credential = $cred\n  OpenPorts = 3389\n}\n$newVM1 = New-AzureRmVM @vmParams\n```\nA virtuális gép létrehozása során megjelennek a felhasznált paraméterértékek és a létrehozandó Azure-erőforrások.\nA PowerShell az alább látható módon megjelenít egy folyamatjelzőt.\n\n```Output\n Creating Azure resources\n  39% \\\n  [ooooooooooooooooooooooooooooooooooo                                                                 ]\n\n  Creating TutorialVM1 virtual machine.\n```\n\nHa a virtuális gép létrejött, az eredmények megtekinthetők az Azure Portalon vagy a \\$newVM1 változó vizsgálatával.\n\n```powershell\n$newVM1\n```\n\n```Output\nResourceGroupName : TutorialResources\nId                : /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/TutorialResources/providers/Microsoft.Compute/virtualMachines/TutorialVM1\nVmId              : 12345678-9abc-def0-1234-56789abcedf0\nName              : TutorialVM1\nType              : Microsoft.Compute/virtualMachines\nLocation          : eastus\nTags              : {}\nHardwareProfile   : {VmSize}\nNetworkProfile    : {NetworkInterfaces}\nOSProfile         : {ComputerName, AdminUsername, WindowsConfiguration, Secrets}\nProvisioningState : Succeeded\nStorageProfile    : {ImageReference, OsDisk, DataDisks}\n```\n\nA kapcsos zárójelben szereplő tulajdonságértékek beágyazott objektumok. A következő lépésekből megtudhatja, hogyan tekintheti meg a beágyazott objektumok egyes értékeit."
- durationInMinutes: 5
  title: "Virtuális gépre vonatkozó adatok lekérdezése"
  content: "Az imént létrehozott virtuális gépről további részletes információkat is beszerezhet. Ebben a példában ellenőrizni fogja a létrehozott virtuális gép és rendszergazdai fiók nevét.\n\n```powershell\n$newVM1.OSProfile | Select-Object ComputerName,AdminUserName\n```\n\n```Output\nComputerName AdminUsername\n------------ -------------\nTutorialVM1  tutorialAdmin\n```\n\nEgyéb Azure PowerShell-parancsokkal a hálózati konfigurációval kapcsolatos információkat lehet lekérni.\n\n```powershell\n$newVM1 | Get-AzureRmNetworkInterface |\n  Select-Object -ExpandProperty IpConfigurations |\n    Select-Object Name,PrivateIpAddress\n```\n\nEbben a példában a PowerShell-folyamattal küldjük el a \\$newVM1 objektumot a `Get-AzureRmNetworkInterface` parancsmagnak. Az eredményül kapott hálózatiadapter-objektumban kiválasztjuk a beágyazott IpConfigurations objektumot. Az IpConfigurations objektumban kiválasztjuk a Name és a PrivateIpAddress tulajdonságot.\n\n```Output\nName        PrivateIpAddress\n----        ----------------\nTutorialVM1 192.168.1.4\n```\n\nHa ellenőrizni szeretné, hogy a virtuális gép fut-e, csatlakoznia kell hozzá távoli asztali kapcsolaton keresztül. Ehhez szükség van a nyilvános IP-címre.\n\n```powershell\n$publicIp = Get-AzureRmPublicIpAddress -Name tutorialPublicIp -ResourceGroupName TutorialResources\n\n$publicIp | Select-Object Name,IpAddress,@{label='FQDN';expression={$_.DnsSettings.Fqdn}}\n```\n\nEbben a példában a `Get-AzureRmPublicIpAddress` parancsmagot használjuk, az eredményeket pedig a \\$publicIp változóban tároljuk. Ebben a változóban tulajdonságokat választunk ki, és egy kifejezés használatával lekérjük a beágyazott Fqdn tulajdonságot.\n\n```Output\nName             IpAddress           FQDN\n----             ---------           ----\ntutorialPublicIp <PUBLIC_IP_ADDRESS> tutorialvm1-8a0999.eastus.cloudapp.azure.com\n```\n\nA virtuális gép távoli asztali eléréséhez futtassa a következő parancsot a helyi gépen.\n\n```powershell\nmstsc.exe /v <PUBLIC_IP_ADDRESS>\n```\n\nAz objektumtulajdonságok lekérdezésével kapcsolatos bővebb információt az [Azure-erőforrások lekérdezése](./queries-azureps.md) című cikkben talál."
- durationInMinutes: 4
  title: "Új virtuális gép létrehozása meglévő alhálózaton"
  content: "A második virtuális gép a meglévő alhálózatot használja.\n\n```powershell\n$vm2Params = @{\n  ResourceGroupName = 'TutorialResources'\n  Name = 'TutorialVM2'\n  ImageName = 'Win2016Datacenter'\n  VirtualNetworkName = 'TutorialVM1'\n  SubnetName = 'TutorialVM1'\n  PublicIpAddressName = 'tutorialPublicIp2'\n  Credential = $cred\n  OpenPorts = 3389\n}\n$newVM2 = New-AzureRmVM @vm2Params\n\n$newVM2\n```\n\n```Output\nResourceGroupName        : TutorialResources\nId                       : /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/TutorialResources/providers/Microsoft.Compute/virtualMachines/TutorialVM2\nVmId                     : 12345678-9abc-def0-1234-56789abcedf1\nName                     : TutorialVM2\nType                     : Microsoft.Compute/virtualMachines\nLocation                 : eastus\nTags                     : {}\nHardwareProfile          : {VmSize}\nNetworkProfile           : {NetworkInterfaces}\nOSProfile                : {ComputerName, AdminUsername, WindowsConfiguration, Secrets}\nProvisioningState        : Succeeded\nStorageProfile           : {ImageReference, OsDisk, DataDisks}\nFullyQualifiedDomainName : tutorialvm2-dfa5af.eastus.cloudapp.azure.com\n```\n\nKihagyhatja azt a pár lépést, amellyel az új virtuális gép nyilvános IP-címét kérné le, mivel azt a rendszer a \\$newVM2 objektum FullyQualifiedDomainName tulajdonságában visszaadja. Az alábbi parancs használatával csatlakozhat távoli asztali kapcsolaton keresztül.\n\n```powershell\nmstsc.exe /v $newVM2.FullyQualifiedDomainName\n```"
- durationInMinutes: 4
  title: "Felesleges tartalmak törlése"
  content: "Most, hogy végzett az oktatóanyaggal, ideje törölni a létrehozott erőforrásokat. Az egyes erőforrásokat a `Remove-AzureRmResource` paranccsal törölheti, de az erőforráscsoportban szereplő összes erőforrás eltávolításának legbiztosabb módja, ha a `Remove-AzureRmResourceGroup` paranccsal törli az egész csoportot.\n\n```powershell\n$job = Remove-AzureRmResourceGroup -Name TutorialResources -Force -AsJob\n\n$job\n```\n\n```Output\nId     Name            PSJobTypeName   State         HasMoreData     Location             Command\n--     ----            -------------   -----         -----------     --------             -------\n1      Long Running... AzureLongRun... Running       True            localhost            Remove-AzureRmResource...\n```\n\nEz a parancs törli az oktatóanyag használata közben létrehozott erőforrásokat, és garantáltan a megfelelő sorrendben szabadítja fel őket. Az `-AsJob` paraméter megakadályozza, hogy a PowerShell blokkoljon a törlés végrehajtása közben. Ha várni szeretne, amíg a törlés befejeződik, használja a következő parancsot:\n\n```powershell\nWait-Job -Id $job.Id\n```\n\nA tartalmak törlésével az oktatóanyag végére ért. Tekintse át az eddig tanultak összegzését, illetve a következő lépések végrehajtásában segítségére lévő erőforrásokra mutató hivatkozásokat."
- durationInMinutes: 1
  title: "Összegzés"
  content: "\nGratulálunk! Megismerte, hogyan hozhat létre virtuális gépeket új vagy meglévő erőforrásokkal, kifejezések és egyéb Azure PowerShell-parancsok segítségével felületváltozókon tárolandó adatokat rögzített, és áttekintett néhány, az Azure-beli virtuális gépek számára létrehozott erőforrást.\n\nA következő lépést az határozza meg, hogy mire szeretné használni az Azure PowerShellt. Számos forrásanyag érhető el a jelen oktatóanyagban tárgyalt funkciók alaposabb megismeréséhez.\n\n### <a name=\"in-depth-azure-powershell-documentation\"></a>Részletes Azure PowerShell-dokumentáció\n\nÉrdemes időt szánni a teljes [Azure PowerShell-dokumentáció](overview.md) megismerésére.\n\nAz oktatóanyagban szereplő parancsokkal kapcsolatos további információkért tekintse meg az alábbi cikkeket.\n\n- [New-AzureRmResourceGroup](/powershell/module/azurerm.resources/new-azurermresourcegroup)\n- [Get-Credential](/powershell/module/microsoft.powershell.security/get-credential)\n- [New-AzureRmVM](/powershell/module/azurerm.compute/new-azurermvm)\n- [Select-Object](/powershell/module/microsoft.powershell.utility/select-object)\n- [Get-AzureRmPublicIpAddress](/powershell/module/azurerm.network/get-AzureRmPublicIpAddress)\n- [Remove-AzureRmResourceGroup](/powershell/module/azurerm.resources/Remove-AzureRmResourceGroup)\n- [Wait-Job](/powershell/module/microsoft.powershell.core/wait-job)\n\nOlyan cikkek is rendelkezésre állnak, amelyek részletesebben tárgyalják a jelen oktatóanyagban ismertetett funkciókat.\n\n- [PowerShell-paramétercsomagolás](/powershell/module/microsoft.powershell.core/about/about_splatting)\n- [Lekérdezések](queries-azureps.md)\n- [Formázás](formatting-output.md)\n- [A PowerShell-feladatok használata](using-psjobs.md)\n\n### <a name=\"sample-scripts\"></a>Mintaszkriptek\n\nHa máris hozzá szeretne fogni konkrét feladatokhoz, tekintsen át néhány mintául szolgáló szkriptet.\n\n- [Linux rendszerű virtuális gépek](/azure/virtual-machines/linux/powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [Windows rendszerű virtuális gépek](/azure/virtual-machines/windows/powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [Web Apps](/azure/app-service-web/app-service-powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [SQL Database-adatbázisok](/azure/sql-database/sql-database-powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [Cosmos DB](/azure/cosmos-db/powershell-samples?toc=%2fpowershell%2fmodules%2ftoc.json)\n\n### <a name=\"feedback\"></a>Visszajelzés\n\nHa visszajelzést szeretne küldeni, illetve javaslatai vagy kérdései vannak, akkor több módon is felveheti velünk a kapcsolatot.\n\n* A `Send-Feedback` az Azure PowerShell egy beépített parancsa, amellyel szabad formátumú visszajelzést küldhet a csapatnak.\n* A szolgáltatással kapcsolatos kéréseit és hibajelentéseit az [Azure PowerShell-adattáron](https://github.com/Azure/azure-powershell/issues) keresztül küldheti be.\n* Kérdéseit és pontosításra vonatkozó megkereséseit az [Azure PowerShell dokumentációs adattárján](https://github.com/Azure/azure-docs-powershell/issues) keresztül teheti fel és küldheti be.\n\nReméljük, hogy örömét leli az Azure PowerShell használatában!"
